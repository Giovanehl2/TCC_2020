
@{
    ViewBag.Title = "ConsultarProvaPr";
}

<h2>Consultar Provas</h2>

<div class="col-lg-12 tab-content">
    <table class="table">
        <tr>
            <th>Pend.</th>
            <th>Data da Prova</th>
            <th>Disciplina</th>
            <th>Turma</th>
            <th>Prova</th>
            <th>    </th>
        </tr>
        <tr>
            <td><input type="checkbox" id="chbxPendentes" name="Pendentes" value="" /></td>
            <td><input class="" type="date" name="DataProva" value="" id="DataProva"/></td>
            <td>
                <select class="form-control" id="Disciplina" name="Disciplina">
                    <option>Selecionar</option>
                    <option>Seila1</option>
                    <option>Seila2</option>
                </select>
            </td>
            <td>
                <select class="form-control" id="Turma" name="Turma">
                    <option>Selecionar</option>
                    <option>Turma1</option>
                    <option>Turma2</option>
                </select>
            </td>
            <td>
                <select class="form-control" id="Prova" name="Prova">
                    <option>Selecionar</option>
                    <option>Prova1</option>
                    <option>Prova2</option>
                </select>
            </td>
            <td>
                <button id="btnConsult" witdh="50" title="Consultar" class="btn btn-default btn-sm btn-toggle" onclick="ConsultarProvasPend()">Consultar</button>
                @*<button witdh="50" title="Consultar" class="btn btn-default btn-sm" onclick="ConsultarProvas()">Consultar</button>*@
            </td>
        </tr>
    </table>
    <br />
    @*<table class="table">
            <tr>
            </tr>
        </table>*@
    <div id="divGridConsultaPr">

        <div class="col-lg-12">
            <div class="row">
                <div class="col-lg-8">
                    <input class="" style="min-width: 100%;" type="text" name="Detahes" value="" id="Detahes" placeholder="Data - Disciplina - Turma - Assunto" />
                </div>
                <div class="col-lg-4">
                    <button witdh="50" title="Visualizar" class="btn btn-default btn-sm" data-toggle="modal" data-target="#VisualizarProva">Visualizar</button>
                    <button witdh="50" title="Corrigir" class="btn btn-default btn-sm" onclick="CorrigirProva()">Corrigir</button>
                </div>
            </div>
        </div>
        @*Só visualização, deverá ser feito por um grid de grid que carrega depois da consulta...*@
        <div class="col-lg-12">
            <div class="row">
                <div class="col-lg-8">
                    <input class="" style="min-width: 100%;" type="text" name="Detahes" value="" id="Detahes" placeholder="Data - Disciplina - Turma - Assunto" />
                </div>
                <div class="col-lg-4">
                    <button witdh="50" title="Visualizar" class="btn btn-default btn-sm" data-toggle="modal" data-target="#VisualizarProva">Visualizar</button>
                    <button witdh="50" title="Corrigir" class="btn btn-default btn-sm" onclick="CorrigirProva()">Corrigir</button>
                </div>
            </div>
        </div>
    </div>

    @* excluir posteriormente tambem... *@
    <div id="divGridConsultaProvaPend" style="display:none">
        @*Essa consulta deve ser com base no cheackbox de "Pend", = pendentes = não realizadas ainda...*@
        <div id="divGridConsultaPr">
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-8">
                        <input class="" style="min-width: 100%;" type="text" name="Detahes" value="" id="Detahes" placeholder="Data - Disciplina - Turma - Assunto" />
                    </div>
                    <div class="col-lg-4">
                        <button witdh="50" title="Editar" class="btn btn-default btn-sm" onclick="EditarProva()">Editar</button>
                        <button witdh="50" title="Excluir" class="btn btn-default btn-sm" data-toggle="modal" data-target="#ExcluirProva">Excluir</button>
                    </div>
                </div>
            </div>
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-8">
                        <input class="" style="min-width: 100%;" type="text" name="Detahes" value="" id="Detahes" placeholder="Data - Disciplina - Turma - Assunto" />
                    </div>
                    <div class="col-lg-4">
                        <button witdh="50" title="Editar" class="btn btn-default btn-sm" onclick="EditarProva()">Editar</button>
                        <button witdh="50" title="Excluir" class="btn btn-default btn-sm" data-toggle="modal" data-target="#ExcluirProva">Excluir</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<br />



@* modal de visualização de Prova (sem corrigir) *@
<div class="modal fade novep" id="VisualizarProva">
    <div class="modal-dialog" style="min-width: 50%;">
        <div class="modal-content">
            <div>

                <div class="container">
                    <br />

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <h5>Questão 1</h5>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <input class="form-control" id="questao1" type="text" value="Quanto é 1 + 1" disabled>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <h5>Resposta 1</h5>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <input class="form-control" id="resposta1" type="text" value="42" disabled>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <h5>Observações</h5>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <input class="form-control" id="obsevações" type="text" value="Vejá bem, aqui parece que está algo errado." disabled>
                        </div>
                    </div>


                    <br />
                    <br />
                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <h5>Questão 2</h5>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <input class="form-control" id="questao2" type="text" value="Quanto é 2 * 2" disabled>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <h5>Resposta 2</h5>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <input class="form-control" id="resposta2" type="text" value="4" disabled>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <h5>Observações</h5>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 offset-md-1">
                            <input class="form-control" id="obsevações" type="text" value="" disabled>
                        </div>
                    </div>

                    <br />
                    <div class="row">
                        <div class="col-md-5 offset-md-1">
                            <h5>Nota</h5>
                            <input class="form-control" id="nota" type="text" value="5,0" disabled>
                        </div>
                        <div class="col-md-5 offset-md-1">
                            <button witdh="50" title="Fechar" class="btn btn-danger" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                    <br />
                </div>
            </div>
        </div>
    </div>
</div>

@* Modal para confirmar exclusão *@
<div class="modal fade" id="ExcluirProva">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Excluir:</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>Você realmente deseja excluir essa prova?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="ExcluirProva()">Sim</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Voltar</button>
            </div>
        </div>
    </div>
</div>

<script>

    function ExcluirProva() {
        console.log("Prova deletada...");
        $('#ExcluirProva').modal('hide');
    }

    function EditarProva() {
        location.href = "http://localhost:54994/GerarProva/GerarProva";
    }

    function CorrigirProva() {
        location.href = "http://localhost:54994/ConsultarProvaPr/CorrigirProva";
    }

    var div1 = document.getElementById('divGridConsultaPr'),
        div2 = document.getElementById('divGridConsultaProvaPend');
    function switchVisible() {
        if (!div1) return;
        if (getComputedStyle(div1).display == 'block') {
            div1.style.display = 'none';
            div2.style.display = 'block';
        } else {
            div1.style.display = 'block';
            div2.style.display = 'none';
        }
    }
    document.getElementById('btnConsult').addEventListener('click', switchVisible);

</script>